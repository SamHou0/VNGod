# 游戏存储管理

VNGod 提供本地和远程**游戏本体**存储管理。在配置 WebDAV 和 7-zip 之后，你可以将本地游戏上传到远程，也可以将远程游戏下载回本地。

VNGod 不希望把游戏的存储和它本身强绑定，因此我们选择了调用外部 7-zip，进行分卷压缩的方式（为避免网络波动导致反复重传，每个分卷调节为了 100M）对游戏本体进行备份。为了确保调用成功，请先安装 7-zip 并配置路径。

7-zip 作为和 VNGod 类似的开源软件，非常可靠轻量，因此我们选择使用它对你的游戏进行归档。如果你不再想要使用 VNGod，或者 VNGod 消失、停止维护了，你也可以用任意解压软件，自己对分卷压缩的压缩包进行解压。

> [!TIP]
> 如果你不需要远程游戏备份，可以不配置。此时，游戏管理仅会显示删除游戏，你可以在这里删除你不需要的视觉小说。

## 安装配置

转到 [7-zip 官方网站](https://www.7-zip.org/)，下载 Windows 版本的 7-zip，然后运行安装程序。在安装过程中，会要求您选择一个安装路径——请记下这个路径。安装完毕后，在文件资源管理器中打开这个路径（默认的是 `C:\Program Files\7-Zip`）。

检查该路径，在这个文件夹中，通常能够找到一个 `7z.exe`。右键点击`复制文件地址`，去除双引号，将它填入 VNGod 设置窗口的 7-zip 路径中（在默认情况下，这将是 `C:\Program Files\7-Zip\7z.exe`）。然后，配置 WebDAV。

关闭设置。如果没有提示`找不到 7-zip`，说明路径已配置成功。如果此时提示 WebDAV 配置有效，说明你已经准备好开始使用 WebDAV 功能了。满足以上条件之后，远程游戏管理才能正常工作。

## 上传、下载游戏本体

打开`游戏管理`，在左侧列表中**选中**你想要上传/删除的本地游戏，然后点击对应按钮即可执行操作。在右侧列表中选中你想要下载/删除的远程游戏，然后点击对应按钮即可执行操作。

别担心，`.vngod` 的元数据文件不仅不会被备份，还会保持同步，因此你的游戏数据（理论上）不会丢失。你的游戏存档在开始和结束游戏时也会自动（独立地）根据修改时间进行同步，因此不会由于备份而丢失。

但是，当你的游戏同时存在于本地和远程时，下载游戏会覆盖本地文件（是的，如果你的存档**在游戏文件夹内**，那么它也会被覆盖）。尽管 7-zip 和 VNGod 会尽力保持文件的修改日期不发生改变，而开始游戏时，存档云同步会以最新的版本覆盖刚刚下载的版本，但谁也不能保证这个复杂过程的可靠性。因此，最好在开始游戏前上传不带存档文件夹的游戏本体，或在下载前先备份你的存档（VNGod 在下载前会向你提示这一点，允许你备份存档后再继续）。
